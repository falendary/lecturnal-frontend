{"version":3,"sources":["src/index/scripts/editor-features/components/interfaces/IEditorButton.ts","src/index/scripts/editor-features/models/selectionData.ts","src/index/scripts/editor-features/helpers/selection.helper.ts","src/index/scripts/editor-features/helpers/node.helper.ts","src/index/scripts/editor-features/components/b-component/b.component.ts","src/index/scripts/editor-features/components/i-component/i.component.ts","src/index/scripts/editor-features/components/u-component/u.component.ts","src/index/scripts/editor-features/components/text-center-component/text-center.component.ts","src/index/scripts/editor-features/components/text-right-component/text-right.component.ts","src/index/scripts/editor-features/components/text-left-component/text-left.component.ts","src/index/scripts/editor-features/components/ul-component/ul.component.ts","src/index/scripts/editor-features/components/ol-component/ol.component.ts","src/index/scripts/editor-features/editor-featrues.module.ts","src/index/scripts/app/components/shell-component/shell.component.ts","src/index/scripts/app/models/Slide.ts","src/index/scripts/app/models/Presentation.ts","src/index/scripts/app/components/dashboard-component/dashboard.component.ts","src/index/scripts/app/components/presentation-component/presentation.component.ts","src/index/scripts/app/components/slide-editor-component/slide-editor.component.ts","src/index/scripts/app/components/slides-tree-component/slides-tree.component.ts","src/index/scripts/app/directives/content-editable.directive.ts","src/index/scripts/app/app.routing.ts","src/index/scripts/app/app.module.ts","src/index/scripts/main.ts","src/index/scripts/editor-features/components/b-component/b.component-old.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["export interface IEditorButton {\n\n    wrapSelected() :void\n\n}","export class SelectionData {\n\n    offsetFrom:number;\n    offsetTo:number;\n\n    startString:string;\n    middleString:string;\n    endString:string;\n}","import {SelectionData} from \"../models/selectionData\";\nexport class SelectionHelper {\n\n    public static getSelectionData():SelectionData {\n\n        let selectionData:SelectionData = new SelectionData();\n\n        let selection = window.getSelection();\n\n        let offsetFrom:number = selection.focusOffset;\n        let offsetTo:number = selection.anchorOffset;\n\n        if (selection.focusOffset > selection.anchorOffset) {\n            offsetFrom = selection.anchorOffset;\n            offsetTo = selection.focusOffset;\n        }\n\n        let node:any = selection.focusNode;\n\n        //console.log('node.nodeValue', node.nodeValue);\n\n        console.log('node', {n: node});\n        console.log('selection', selection);\n\n        let startString = node.textContent.slice(0, offsetFrom);\n        let middleString = node.textContent.slice(offsetFrom, offsetTo);\n        let endString = node.textContent.slice(offsetTo, node.textContent.length);\n\n        selectionData.offsetFrom = offsetFrom;\n        selectionData.offsetTo = offsetTo;\n\n        selectionData.startString = startString;\n        selectionData.middleString = middleString;\n        selectionData.endString = endString;\n\n        return selectionData\n    }\n\n\n\n}","export class NodeHelper {\n\n    public static getListOfBlockTags(): string[] {\n        return ['div', 'p', 'ul'];\n    }\n\n    public static isInlineTag(tag: string): boolean {\n\n        let blockTags = NodeHelper.getListOfBlockTags();\n\n        if (blockTags.indexOf(tag) == -1) {\n            return true;\n        }\n\n        return false;\n\n    }\n\n    public static findParentByLocalName(node: Node, tag: string): Element {\n\n        if (NodeHelper.isInlineTag(node.parentElement.localName)) {\n\n            if (node.parentElement.localName == tag) {\n                return node.parentElement;\n            } else {\n                return NodeHelper.findParentByLocalName(node.parentElement, tag);\n            }\n\n        } else {\n            return undefined;\n        }\n\n    }\n\n    public static findParentByClassName(node: Node, className: string): Element {\n\n        if (NodeHelper.isInlineTag(node.parentElement.localName)) {\n\n            if (node.parentElement.classList.contains(className)) {\n                return node.parentElement;\n            } else {\n                return NodeHelper.findParentByClassName(node.parentElement, className);\n            }\n\n        } else {\n            return undefined;\n        }\n\n    }\n\n    public static findParentByLocalNameAndClassName(node: Node, tag: string, className: string): Element {\n\n        if (NodeHelper.isInlineTag(node.parentElement.localName)) {\n\n            if (node.parentElement.classList.contains(className) && node.parentElement.localName == tag) {\n                return node.parentElement;\n            } else {\n                return NodeHelper.findParentByClassName(node.parentElement, className);\n            }\n\n        } else {\n            return undefined;\n        }\n\n    }\n\n    public static haveParentWithLocalName(node: Node, tag: string): boolean {\n\n        let parentElement: Element = NodeHelper.findParentByLocalName(node, tag);\n\n        return !!parentElement;\n\n    }\n\n    public static haveParentWithClassName(node: Node, className: string): boolean {\n\n        let parentElement: Element = NodeHelper.findParentByClassName(node, className);\n\n        return !!parentElement;\n\n    }\n\n    public static haveParentWithLocalNameAndClassName(node: Node, tag: string, className: string): boolean {\n\n        let parentElement: Element = NodeHelper.findParentByLocalNameAndClassName(node, tag, className);\n\n        return !!parentElement;\n\n    }\n\n    public static findBlockParent(element: Element): Element {\n\n        if (element.parentElement.localName == 'p' || element.parentElement.localName == 'div' || element.parentElement.localName == 'li') {\n            return element.parentElement;\n        } else {\n            return NodeHelper.findBlockParent(element.parentElement);\n        }\n\n    }\n\n    public static unwrapElements(elements: any, tag: string, startOffset: number, endOffset: number): Element[] {\n\n        let currentLength: number = 0;\n\n        console.log('Action: unwrapElements');\n\n        console.log('endOffset: ' + startOffset);\n        console.log('endOffset: ' + endOffset);\n        console.log('elements.length: ' + elements.length);\n\n        for (let i: number = 0; i < elements.length; i = i + 1) {\n\n            currentLength = currentLength + elements[i].textContent.length;\n\n            console.log('Index: ' + i);\n            console.log('Current length: ' + currentLength);\n\n            if (elements[i].hasOwnProperty('localName')) {\n\n                if (elements[i].localName == tag) {\n\n                    if (currentLength >= startOffset) {\n\n                        if (currentLength - endOffset <= elements[i].textContent.length) {\n\n                            let inElementEndOffset = currentLength - endOffset;\n\n                            if (inElementEndOffset == elements[i].textContent.length) {\n                                elements[i].outerHTML = elements[i].innerHTML;\n                            } else {\n\n                            }\n\n\n                        }\n\n                    }\n\n\n                }\n\n            }\n\n\n        }\n\n        return elements;\n\n    };\n\n\n    public static wrapElements(elements: any, tag: string, startOffset: number, endOffset: number): void {\n\n        let element: Element = document.createElement(tag);\n\n        let currentLength: number = 0;\n        let elementInnerHTML: string = '';\n\n        let insertionIndex: number;\n\n        console.log('Action: wrapElements');\n\n        console.log('endOffset: ' + startOffset);\n        console.log('endOffset: ' + endOffset);\n        console.log('elements.length: ' + elements.length);\n\n\n        for (let i: number = 0; i < elements.length; i = i + 1) {\n\n            currentLength = currentLength + elements[i].textContent.length;\n\n            // if we find start element/node BLOCK START\n\n            console.log('Index: ' + i);\n            console.log('Current length: ' + currentLength);\n\n            if (currentLength - startOffset >= 0) {\n\n                console.log('Node at start offset have been found, index: ' + i);\n\n                if (currentLength - startOffset <= elements[i].textContent.length) {\n\n                    elementInnerHTML = elementInnerHTML + elements[i].textContent.slice(startOffset, endOffset);\n                    let secondPartText: string = elements[i].textContent.slice(endOffset, elements[i].textContent.length);\n                    elements[i].textContent = elements[i].textContent.slice(0, startOffset);\n\n\n                    if (secondPartText.length > 0) {\n                        insertionIndex = i;\n\n                        let secondPartNode: Node = document.createTextNode(secondPartText);\n\n                        if (i == elements.length - 1) {\n                            elements[i].parentNode.appendChild(secondPartNode)\n                        } else {\n                            elements[i].parentNode.insertBefore(secondPartNode, elements[i + 1]);\n                        }\n                    }\n\n                }\n\n                // if we find start element/node BLOCK END\n\n            } else {\n\n                console.log('Node at end offset have been found, index: ' + i);\n\n                // if we find end element/node BLOCK START\n\n                if (currentLength > endOffset) {\n\n                    if (endOffset - currentLength < elements[i].textContent.length) {\n\n                        let localElementOffset: number = endOffset - currentLength;\n\n                        insertionIndex = i;\n\n                        elementInnerHTML = elementInnerHTML + elements[i].textContent.slice(0, localElementOffset);\n                        elements[i].textContent = elements[i].textContent.slice(localElementOffset);\n\n                    }\n                }\n\n                // if we find end element/node BLOCK END\n\n                else {\n\n                    console.log('Wrapping regular node at index: ' + i);\n\n                    // add textContent or outerHTML to elementInnerHTML BLOCK START\n\n                    if (elements[i].hasOwnProperty('outerHTML')) {\n                        elementInnerHTML = elementInnerHTML + elements[i].outerHTML;\n                    } else {\n                        elementInnerHTML = elementInnerHTML + elements[i].textContent;\n                    }\n\n                    // add textContent or innerHTML to elementInnerHTML BLOCK END\n\n                }\n\n            }\n\n        }\n\n        console.log('elementInnerHTML', elementInnerHTML);\n\n        element.innerHTML = elementInnerHTML;\n\n        if (insertionIndex == elements.length - 1) {\n            elements[0].parentNode.appendChild(element);\n        } else {\n            elements[0].parentNode.insertBefore(element, elements[0].parentNode.childNodes[insertionIndex + 1]);\n        }\n\n\n    }\n\n}","import {Component,EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {IEditorButton} from '../interfaces/IEditorButton';\nimport {SelectionHelper} from '../../helpers/selection.helper';\nimport {SelectionData} from '../../models/selectionData';\nimport {NodeHelper} from '../../helpers/node.helper';\n\n@Component({\n    selector: 'b-editor-button',\n    templateUrl: 'b.component.html'\n})\n\nexport class BComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content: string;\n\n    @Input('editorId')\n    public editorId: string;\n\n    wrapSelected(): void {\n\n        let selection = window.getSelection();\n        let node: any = selection.focusNode;\n        let selectionData: SelectionData = SelectionHelper.getSelectionData();\n\n        if (document.getElementById(this.editorId).contains(node)) {\n\n            if(NodeHelper.haveParentWithLocalName(node, 'b')) {\n\n                let parent = NodeHelper.findParentByLocalName(node, 'b');\n                parent.outerHTML = parent.innerHTML;\n\n            }  else {\n                node.parentNode.innerHTML = selectionData.startString + '<b>' + selectionData.middleString + '</b>' + selectionData.endString;\n            }\n\n\n            this.update.emit()\n        }\n\n\n    }\n\n}","import {Component, EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {IEditorButton} from '../interfaces/IEditorButton';\nimport {SelectionHelper} from '../../helpers/selection.helper';\nimport {SelectionData} from '../../models/selectionData';\nimport {NodeHelper} from \"../../helpers/node.helper\";\n\n@Component({\n    selector: 'i-editor-button',\n    templateUrl: 'i.component.html'\n})\n\nexport class IComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content: string;\n\n    @Input('editorId')\n    public editorId: string;\n\n    wrapSelected(): void {\n\n        let selection = window.getSelection();\n        let node: any = selection.focusNode;\n        let selectionData: SelectionData = SelectionHelper.getSelectionData();\n\n        if (document.getElementById(this.editorId).contains(node)) {\n\n            if(NodeHelper.haveParentWithLocalName(node, 'i')) {\n\n                let parent = NodeHelper.findParentByLocalName(node, 'i');\n                parent.outerHTML = parent.innerHTML;\n\n            }  else {\n                node.parentNode.innerHTML = selectionData.startString + '<i>' + selectionData.middleString + '</i>' + selectionData.endString;\n            }\n            this.update.emit();\n\n        }\n\n    }\n\n}","import {Component, EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\n\nimport {IEditorButton} from '../interfaces/IEditorButton';\n\nimport {SelectionData} from '../../models/selectionData';\nimport {SelectionHelper} from '../../helpers/selection.helper';\nimport {NodeHelper} from \"../../helpers/node.helper\";\n\n@Component({\n    selector: 'u-editor-button',\n    templateUrl: 'u.component.html'\n})\n\nexport class UComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content: string;\n\n    @Input('editorId')\n    public editorId: string;\n\n    wrapSelected(): void {\n\n        let selection = window.getSelection();\n        let node: any = selection.focusNode;\n        let selectionData: SelectionData = SelectionHelper.getSelectionData();\n\n        if (document.getElementById(this.editorId).contains(node)) {\n\n            if(NodeHelper.haveParentWithLocalNameAndClassName(node, 'span', 'e-style-underline')) {\n\n                let parent = NodeHelper.findParentByLocalNameAndClassName(node, 'span', 'e-style-underline');\n                parent.outerHTML = parent.innerHTML;\n\n            } else {\n                node.parentNode.innerHTML = selectionData.startString + '<span class=\"e-style-underline\">' + selectionData.middleString + '</span>' + selectionData.endString;\n            }\n            this.update.emit();\n        }\n\n    }\n\n}","import {Component, EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {IEditorButton} from '../interfaces/IEditorButton';\nimport {SelectionData} from '../../models/selectionData';\nimport {SelectionHelper} from '../../helpers/selection.helper';\n\n@Component({\n    selector: 'text-center-editor-button',\n    templateUrl: 'text-center.component.html'\n})\n\nexport class TextCenterComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content:string;\n\n    @Input('editorId')\n    public editorId:string;\n\n    wrapSelected():void {\n\n        let selection = window.getSelection();\n        let node:any = selection.focusNode;\n\n        if (document.getElementById(this.editorId).contains(node)) {\n            if (node.parentNode.classList.contains('e-style-text-center')) {\n                node.parentNode.classList.remove('e-style-text-center');\n            } else {\n                node.parentNode.classList.remove('e-style-text-left');\n                node.parentNode.classList.remove('e-style-text-right');\n                node.parentNode.classList.add('e-style-text-center');\n            }\n        }\n\n    }\n\n\n}","import {Component, EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {IEditorButton} from '../interfaces/IEditorButton';\nimport {SelectionData} from '../../models/selectionData';\nimport {SelectionHelper} from '../../helpers/selection.helper';\n\n@Component({\n    selector: 'text-right-editor-button',\n    templateUrl: 'text-right.component.html'\n})\n\nexport class TextRightComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content:string;\n\n    @Input('editorId')\n    public editorId:string;\n\n    wrapSelected():void {\n\n        let selection = window.getSelection();\n        let node:any = selection.focusNode;\n\n        if (document.getElementById(this.editorId).contains(node)) {\n\n            if (node.parentNode.classList.contains('e-style-text-right')) {\n                node.parentNode.classList.remove('e-style-text-right');\n            } else {\n                node.parentNode.classList.remove('e-style-text-center');\n                node.parentNode.classList.remove('e-style-text-left');\n                node.parentNode.classList.add('e-style-text-right');\n            }\n\n        }\n\n    }\n\n\n}","import {Component, EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\n\n@Component({\n    selector: 'text-left-editor-button',\n    templateUrl: 'text-left.component.html'\n})\n\nexport class TextLeftComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content:string;\n\n    @Input('editorId')\n    public editorId:string;\n\n    wrapSelected():void {\n\n        let selection = window.getSelection();\n        let node:any = selection.focusNode;\n\n        if (document.getElementById(this.editorId).contains(node)) {\n\n            if (node.parentNode.classList.contains('e-style-text-left')) {\n                node.parentNode.classList.remove('e-style-text-left');\n            } else {\n                node.parentNode.classList.remove('e-style-text-center');\n                node.parentNode.classList.remove('e-style-text-right');\n                node.parentNode.classList.add('e-style-text-left');\n            }\n\n        }\n\n    }\n\n}","import {Component, EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {IEditorButton} from '../interfaces/IEditorButton';\n\n@Component({\n    selector: 'ul-editor-button',\n    templateUrl: 'ul.component.html'\n})\n\nexport class UlComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content:string;\n\n    @Input('editorId')\n    public editorId:string;\n\n    wrapSelected():void {\n    }\n\n}","import {Component, EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {IEditorButton} from '../interfaces/IEditorButton';\nimport {SelectionHelper} from '../../helpers/selection.helper';\nimport {NodeHelper} from '../../helpers/node.helper';\n\n@Component({\n    selector: 'ol-editor-button',\n    templateUrl: 'ol.component.html'\n})\n\nexport class OlComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content:string;\n\n    @Input('editorId')\n    public editorId:string;\n\n\n    private getNodeIndex(elements:HTMLCollection, node:Node):number {\n\n        let index:number;\n\n        for (let i:number = 0; i < elements.length; i = i + 1) {\n            if (elements[i].contains(node)) {\n                index = i;\n            }\n        }\n\n        return index;\n\n    }\n\n    private getElementsToWrap(elements:any, startIndex:number, endIndex:number):Element[] {\n\n        let result:Element[] = [];\n\n        console.log('elements', elements);\n\n        for (let i:number = startIndex; i <= endIndex; i = i + 1) {\n\n            result.push(elements[i]);\n\n        }\n\n\n        return result;\n\n    }\n\n    wrapSelected():void {\n\n        let selection = window.getSelection();\n        let node:any = selection.focusNode;\n\n        console.log('selection', selection);\n\n        console.log('selection.extentOffset', selection.extentOffset);\n        console.log('selection.anchorOffset', selection.anchorOffset);\n        console.log('node.parentNode.innerText.length', node.parentNode.innerText.length);\n\n        if (document.getElementById(this.editorId).contains(node)) {\n\n            //node.parentNode.innerHTML = '<ul><li>'+nod+'</li></ul>';\n\n\n            let startNode = selection.extentNode;\n            let endNode = selection.anchorNode;\n\n            let startParent = NodeHelper.findBlockParent(startNode.parentElement);\n            let endParent = NodeHelper.findBlockParent(endNode.parentElement);\n\n            if (startParent == endParent) {\n\n                let startIndex:number = this.getNodeIndex(startParent.children, startNode);\n                let endIndex:number = this.getNodeIndex(startParent.children, startNode);\n\n                console.log('startIndex', startIndex);\n                console.log('endIndex', endIndex);\n\n                let elementsToWrap:Element[] = this.getElementsToWrap(startParent.children, startIndex, endIndex);\n\n                let ol:Element = document.createElement('OL');\n\n                for (let i:number = 0; i < elementsToWrap.length; i = i + 1) {\n                    elementsToWrap[i].outerHTML = '<li>' + startParent.children[i].outerHTML + '</li>';\n                    console.log('startParent.children[i].outerHTML', startParent.children[i].outerHTML);\n                    ol.appendChild(elementsToWrap[i]);\n                }\n\n                for(let i:number = startIndex; i <= endIndex; i = i + 1) {\n                    startParent.children[i].remove();\n                }\n\n                startParent.insertBefore(ol,startParent.children[startIndex + 1]);\n\n                console.log('startParent', startParent);\n\n                this.update.emit();\n\n            }\n        }\n\n    }\n\n}","import { NgModule } from '@angular/core';\n\nimport { BComponent } from './components/b-component/b.component';\nimport { IComponent } from './components/i-component/i.component';\nimport { UComponent } from './components/u-component/u.component';\nimport {TextCenterComponent} from './components/text-center-component/text-center.component';\nimport {TextRightComponent} from './components/text-right-component/text-right.component';\nimport {TextLeftComponent} from './components/text-left-component/text-left.component';\nimport {UlComponent} from './components/ul-component/ul.component';\nimport {OlComponent} from './components/ol-component/ol.component';\n\n@NgModule({\n    declarations: [\n        BComponent,\n        IComponent,\n        UComponent,\n\n        TextCenterComponent,\n        TextRightComponent,\n        TextLeftComponent,\n\n        OlComponent,\n        UlComponent\n    ],\n    imports: [],\n    exports: [\n        BComponent,\n        IComponent,\n        UComponent,\n\n        TextCenterComponent,\n        TextRightComponent,\n        TextLeftComponent,\n\n        OlComponent,\n        UlComponent\n    ],\n    bootstrap: []\n})\n\nexport class EditorFeaturesModule {\n\n    constructor() {\n        console.log('EditorFeaturesModule init');\n    }\n\n}","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'shell',\n    templateUrl: 'shell.component.html'\n})\n\nexport class ShellComponent {\n\n    constructor() {\n        console.log('ShellComponent init');\n    }\n\n}","export class Slide {\n    content:string\n}","import {Slide} from \"./Slide\";\n\nexport class Presentation {\n\n    id:number;\n    name:string;\n    slides:Slide[]\n\n}","import { Component } from '@angular/core';\nimport {Presentation} from \"../../models/Presentation\";\n\n@Component({\n    selector: 'dashboard',\n    templateUrl: 'dashboard.component.html'\n})\n\nexport class DashboardComponent {\n\n    presentations:Presentation[];\n\n    constructor() {\n\n        console.log('DashboardComponent init');\n\n        this.presentations = [{id: 1, name: 'Компьютерная геометрия и графика', slides: []}, {id: 2, name: 'Веб-дизайн', slides: []}];\n\n    }\n\n}","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'presentation',\n    templateUrl: 'presentation.component.html'\n})\n\nexport class PresentationComponent {\n\n    constructor() {\n\n        console.log('PresentationComponent init');\n\n\n    }\n\n}","import { Component } from '@angular/core';\nimport {Slide} from \"../../models/Slide\";\n\n@Component({\n    selector: 'slide-editor',\n    templateUrl: 'slide-editor.component.html'\n})\n\nexport class SlideEditorComponent {\n\n    slide:Slide;\n\n    isVisualizer:boolean = true;\n    editorId:string;\n\n    constructor() {\n        console.log('SlideEditorCompoennt init');\n\n        this.editorId = 'editor1';\n\n        this.slide = {\n            content: '<div style=\"border-bottom: 2px solid #ccc; padding-bottom: 10px\"><div></div><ul style=\"padding-left: 40px\"><li>Item 1</li><li>Item 2</li><li>Item 3</li><li>Item 4</li></ul></div></div><p>'\n            + 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod'\n            + 'tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam'\n            + 'quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo '\n            + 'consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse '\n            + 'cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non '\n            + 'proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>'\n        };\n\n    }\n\n}","import { Component } from '@angular/core';\nimport {Slide} from \"../../models/Slide\";\n\n@Component({\n    selector: 'slides-tree',\n    templateUrl: 'slides-tree.component.html'\n})\n\nexport class SlidesTreeComponent {\n\n    slides:Slide[];\n\n    constructor() {\n\n        console.log('Sliders tree')\n\n        this.slides = [\n            {content: '123'},\n            {content: '456'}\n        ]\n\n    }\n\n    public addSlide() {\n\n        this.slides.push({content: ''});\n\n    }\n\n    public selectSlide() {\n\n\n\n    }\n\n}","import {Directive, ElementRef, EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {OnChanges, SimpleChanges} from '@angular/core';\n\n@Directive({\n    selector: '[contenteditableModel]',\n    host: {\n        '(blur)': 'onEdit()',\n        '(keyup)': 'onEdit()'\n    }\n\n})\n\nexport class ContentEditableDirective implements OnChanges {\n    @Input('contenteditableModel') model:any;\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    constructor(private elementRef:ElementRef) {\n\n    }\n\n\n    ngOnChanges(changes:SimpleChanges):void {\n\n        if (changes.model.firstChange == true) {\n            this.refreshView();\n        }\n\n    }\n\n    public onEdit() {\n\n        let value:string = this.elementRef.nativeElement.innerHTML;\n        this.update.emit(value);\n\n    }\n\n    public refreshView():void {\n\n        this.elementRef.nativeElement.innerHTML = this.model;\n    }\n\n}","import {ModuleWithProviders} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\nimport {DashboardComponent} from \"./components/dashboard-component/dashboard.component\";\nimport {PresentationComponent} from \"./components/presentation-component/presentation.component\";\n\nconst appRoutes:Routes = <Routes>[\n    {\n        path: '',\n        component: DashboardComponent,\n    },\n    {\n        path: 'presentation',\n        children: [{\n            path: 'new',\n            component: PresentationComponent\n        }, {\n            path: ':id',\n            component: PresentationComponent\n        }]\n    },\n];\n\nexport const routing:ModuleWithProviders = RouterModule.forRoot(appRoutes);\n\n\n","import { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { EditorFeaturesModule } from '../editor-features/editor-featrues.module'\n\nimport { ShellComponent } from './components/shell-component/shell.component';\nimport { DashboardComponent } from './components/dashboard-component/dashboard.component';\nimport { PresentationComponent} from './components/presentation-component/presentation.component';\nimport { SlideEditorComponent } from './components/slide-editor-component/slide-editor.component';\nimport { SlidesTreeComponent } from './components/slides-tree-component/slides-tree.component';\n\nimport { ContentEditableDirective } from './directives/content-editable.directive';\n\nimport { routing } from './app.routing';\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        HttpModule,\n        FormsModule,\n        routing,\n        EditorFeaturesModule\n    ],\n    declarations: [\n\n        ShellComponent,\n        DashboardComponent,\n        PresentationComponent,\n        SlideEditorComponent,\n        SlidesTreeComponent,\n\n        ContentEditableDirective\n    ],\n    bootstrap: [ShellComponent]\n})\n\nexport class AppModule {\n\n    constructor() {\n        console.log('AppModule init');\n    }\n\n}","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);","import {Component,EventEmitter} from '@angular/core';\nimport {Input, Output} from '@angular/core';\nimport {IEditorButton} from '../interfaces/IEditorButton';\nimport {SelectionHelper} from '../../helpers/selection.helper';\nimport {SelectionData} from '../../models/selectionData';\nimport {NodeHelper} from '../../helpers/node.helper';\n\n@Component({\n    selector: 'b-editor-button',\n    templateUrl: 'b.component.html'\n})\n\nexport class BComponent implements IEditorButton {\n\n    @Output('contenteditableModelChange') update = new EventEmitter();\n\n    @Input('content')\n    public content: string;\n\n    @Input('editorId')\n    public editorId: string;\n\n    wrapSelected(): void {\n\n        let selection = window.getSelection();\n        let node: any = selection.focusNode;\n        let selectionData: SelectionData = SelectionHelper.getSelectionData();\n\n        if (document.getElementById(this.editorId).contains(node)) {\n\n            console.log({parentNode: node.parentNode});\n            console.log({node: node});\n\n            if (NodeHelper.haveParentWithLocalName(node, 'b')) {\n\n                let parent = NodeHelper.findParentByLocalName(node, 'b');\n                parent.outerHTML = parent.innerHTML;\n\n            } else {\n\n                let blockParent = NodeHelper.findBlockParent(node);\n\n                if (blockParent.childNodes.length > 1) {\n\n                    let currentLength = 0;\n                    let nodesToWrap: any[] = []; // Node or Element\n\n                    let startNodeIndex: number;\n                    let endNodeIndex: number;\n\n                    for (let i: number = 0; i < blockParent.childNodes.length; i = i + 1) {\n\n                        currentLength = currentLength + blockParent.childNodes[i].textContent.length;\n\n                        if (currentLength >= selectionData.offsetFrom) {\n\n                            if (!startNodeIndex) {\n                                startNodeIndex = i;\n                            }\n\n                            let lengthDiff: number = currentLength - selectionData.offsetTo;\n\n                            if (lengthDiff < blockParent.childNodes[i].textContent.length) {\n                                nodesToWrap.push(blockParent.childNodes[i]);\n                                //blockParent.removeChild(blockParent.childNodes[i]);\n                                endNodeIndex = i;\n                            }\n\n                        }\n\n                    }\n\n                    console.log('nodesToWrap', nodesToWrap);\n\n                    let b: Element = document.createElement('B');\n\n\n                    for (let i: number = 0; i < nodesToWrap.length; i = i + 1) {\n                        b.appendChild(nodesToWrap[i]);\n                    }\n\n                    console.log('B ELEMENT', b);\n\n                    //blockParent.insertBefore(b, blockParent.children[startNodeIndex + 1]); // next to start\n\n\n                } else {\n\n                    blockParent.innerHTML = selectionData.startString + '<b>' + selectionData.middleString + '</b>' + selectionData.endString;\n                }\n            }\n\n\n            this.update.emit()\n        }\n\n\n    }\n\n}"]}