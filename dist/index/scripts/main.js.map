{"version":3,"sources":["src/index/scripts/editor-features/components/interfaces/IEditorButton.ts","src/index/scripts/editor-features/models/selectionData.ts","src/index/scripts/editor-features/helpers/selection.helper.ts","src/index/scripts/editor-features/helpers/node.helper.ts","src/index/scripts/editor-features/components/b-component/b.component.ts","src/index/scripts/editor-features/components/i-component/i.component.ts","src/index/scripts/editor-features/components/u-component/u.component.ts","src/index/scripts/editor-features/components/text-center-component/text-center.component.ts","src/index/scripts/editor-features/components/text-right-component/text-right.component.ts","src/index/scripts/editor-features/components/text-left-component/text-left.component.ts","src/index/scripts/editor-features/components/ul-component/ul.component.ts","src/index/scripts/editor-features/components/ol-component/ol.component.ts","src/index/scripts/editor-features/components/text-justify-component/text-justify.component.ts","src/index/scripts/editor-features/components/indent-component/indent.component.ts","src/index/scripts/editor-features/components/outdent-component/outdent.component.ts","src/index/scripts/editor-features/components/strike-component/strike.component.ts","src/index/scripts/editor-features/components/subscript-component/subscript.component.ts","src/index/scripts/editor-features/components/superscript-component/superscript.component.ts","src/index/scripts/editor-features/components/hr-component/hr.component.ts","src/index/scripts/editor-features/components/format-block-component/foramt-block.component.ts","src/index/scripts/editor-features/components/rf-component/rf.component.ts","src/index/scripts/editor-features/components/font-size-component/font-size.component.ts","src/index/scripts/editor-features/components/font-name-component/font-name.component.ts","src/index/scripts/editor-features/components/create-link-component/create-link.component.ts","src/index/scripts/editor-features/components/unlink-component/unlink.component.ts","src/index/scripts/editor-features/components/insert-image-component/insert-image.component.ts","src/index/scripts/editor-features/editor-featrues.module.ts","src/index/scripts/app/components/shell-component/shell.component.ts","src/index/scripts/app/models/Slide.ts","src/index/scripts/app/models/Presentation.ts","src/index/scripts/app/components/dashboard-component/dashboard.component.ts","src/index/scripts/app/components/presentation-component/presentation.component.ts","src/index/scripts/app/components/slide-editor-component/slide-editor.component.ts","src/index/scripts/app/components/slides-tree-component/slides-tree.component.ts","src/index/scripts/app/directives/content-editable.directive.ts","src/index/scripts/app/app.routing.ts","src/index/scripts/app/app.module.ts","src/index/scripts/main.ts","src/index/scripts/editor-features/components/b-component/b.component-old.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["export interface IEditorButton {\r\n\r\n    wrapSelected() :void\r\n\r\n}","export class SelectionData {\r\n\r\n    offsetFrom:number;\r\n    offsetTo:number;\r\n\r\n    startString:string;\r\n    middleString:string;\r\n    endString:string;\r\n}","import {SelectionData} from \"../models/selectionData\";\r\nexport class SelectionHelper {\r\n\r\n    public static getSelectionData():SelectionData {\r\n\r\n        let selectionData:SelectionData = new SelectionData();\r\n\r\n        let selection = window.getSelection();\r\n\r\n        let offsetFrom:number = selection.focusOffset;\r\n        let offsetTo:number = selection.anchorOffset;\r\n\r\n        if (selection.focusOffset > selection.anchorOffset) {\r\n            offsetFrom = selection.anchorOffset;\r\n            offsetTo = selection.focusOffset;\r\n        }\r\n\r\n        let node:any = selection.focusNode;\r\n\r\n        //console.log('node.nodeValue', node.nodeValue);\r\n\r\n        console.log('node', {n: node});\r\n        console.log('selection', selection);\r\n\r\n        let startString = node.textContent.slice(0, offsetFrom);\r\n        let middleString = node.textContent.slice(offsetFrom, offsetTo);\r\n        let endString = node.textContent.slice(offsetTo, node.textContent.length);\r\n\r\n        selectionData.offsetFrom = offsetFrom;\r\n        selectionData.offsetTo = offsetTo;\r\n\r\n        selectionData.startString = startString;\r\n        selectionData.middleString = middleString;\r\n        selectionData.endString = endString;\r\n\r\n        return selectionData\r\n    }\r\n\r\n\r\n\r\n}","export class NodeHelper {\r\n\r\n    public static getListOfBlockTags(): string[] {\r\n        return ['div', 'p', 'ul'];\r\n    }\r\n\r\n    public static isInlineTag(tag: string): boolean {\r\n\r\n        let blockTags = NodeHelper.getListOfBlockTags();\r\n\r\n        if (blockTags.indexOf(tag) == -1) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n    public static findParentByLocalName(node: Node, tag: string): Element {\r\n\r\n        if (NodeHelper.isInlineTag(node.parentElement.localName)) {\r\n\r\n            if (node.parentElement.localName == tag) {\r\n                return node.parentElement;\r\n            } else {\r\n                return NodeHelper.findParentByLocalName(node.parentElement, tag);\r\n            }\r\n\r\n        } else {\r\n            return undefined;\r\n        }\r\n\r\n    }\r\n\r\n    public static findParentByClassName(node: Node, className: string): Element {\r\n\r\n        if (NodeHelper.isInlineTag(node.parentElement.localName)) {\r\n\r\n            if (node.parentElement.classList.contains(className)) {\r\n                return node.parentElement;\r\n            } else {\r\n                return NodeHelper.findParentByClassName(node.parentElement, className);\r\n            }\r\n\r\n        } else {\r\n            return undefined;\r\n        }\r\n\r\n    }\r\n\r\n    public static findParentByLocalNameAndClassName(node: Node, tag: string, className: string): Element {\r\n\r\n        if (NodeHelper.isInlineTag(node.parentElement.localName)) {\r\n\r\n            if (node.parentElement.classList.contains(className) && node.parentElement.localName == tag) {\r\n                return node.parentElement;\r\n            } else {\r\n                return NodeHelper.findParentByClassName(node.parentElement, className);\r\n            }\r\n\r\n        } else {\r\n            return undefined;\r\n        }\r\n\r\n    }\r\n\r\n    public static haveParentWithLocalName(node: Node, tag: string): boolean {\r\n\r\n        let parentElement: Element = NodeHelper.findParentByLocalName(node, tag);\r\n\r\n        return !!parentElement;\r\n\r\n    }\r\n\r\n    public static haveParentWithClassName(node: Node, className: string): boolean {\r\n\r\n        let parentElement: Element = NodeHelper.findParentByClassName(node, className);\r\n\r\n        return !!parentElement;\r\n\r\n    }\r\n\r\n    public static haveParentWithLocalNameAndClassName(node: Node, tag: string, className: string): boolean {\r\n\r\n        let parentElement: Element = NodeHelper.findParentByLocalNameAndClassName(node, tag, className);\r\n\r\n        return !!parentElement;\r\n\r\n    }\r\n\r\n    public static findBlockParent(element: Element): Element {\r\n\r\n        if (element.parentElement.localName == 'p' || element.parentElement.localName == 'div' || element.parentElement.localName == 'li') {\r\n            return element.parentElement;\r\n        } else {\r\n            return NodeHelper.findBlockParent(element.parentElement);\r\n        }\r\n\r\n    }\r\n\r\n    public static unwrapElements(elements: any, tag: string, startOffset: number, endOffset: number): Element[] {\r\n\r\n        let currentLength: number = 0;\r\n\r\n        console.log('Action: unwrapElements');\r\n\r\n        console.log('endOffset: ' + startOffset);\r\n        console.log('endOffset: ' + endOffset);\r\n        console.log('elements.length: ' + elements.length);\r\n\r\n        for (let i: number = 0; i < elements.length; i = i + 1) {\r\n\r\n            currentLength = currentLength + elements[i].textContent.length;\r\n\r\n            console.log('Index: ' + i);\r\n            console.log('Current length: ' + currentLength);\r\n\r\n            if (elements[i].hasOwnProperty('localName')) {\r\n\r\n                if (elements[i].localName == tag) {\r\n\r\n                    if (currentLength >= startOffset) {\r\n\r\n                        if (currentLength - endOffset <= elements[i].textContent.length) {\r\n\r\n                            let inElementEndOffset = currentLength - endOffset;\r\n\r\n                            if (inElementEndOffset == elements[i].textContent.length) {\r\n                                elements[i].outerHTML = elements[i].innerHTML;\r\n                            } else {\r\n\r\n                            }\r\n\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n                }\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n        return elements;\r\n\r\n    };\r\n\r\n\r\n    public static wrapElements(elements: any, tag: string, startOffset: number, endOffset: number): void {\r\n\r\n        let element: Element = document.createElement(tag);\r\n\r\n        let currentLength: number = 0;\r\n        let elementInnerHTML: string = '';\r\n\r\n        let insertionIndex: number;\r\n\r\n        console.log('Action: wrapElements');\r\n\r\n        console.log('endOffset: ' + startOffset);\r\n        console.log('endOffset: ' + endOffset);\r\n        console.log('elements.length: ' + elements.length);\r\n\r\n\r\n        for (let i: number = 0; i < elements.length; i = i + 1) {\r\n\r\n            currentLength = currentLength + elements[i].textContent.length;\r\n\r\n            // if we find start element/node BLOCK START\r\n\r\n            console.log('Index: ' + i);\r\n            console.log('Current length: ' + currentLength);\r\n\r\n            if (currentLength - startOffset >= 0) {\r\n\r\n                console.log('Node at start offset have been found, index: ' + i);\r\n\r\n                if (currentLength - startOffset <= elements[i].textContent.length) {\r\n\r\n                    elementInnerHTML = elementInnerHTML + elements[i].textContent.slice(startOffset, endOffset);\r\n                    let secondPartText: string = elements[i].textContent.slice(endOffset, elements[i].textContent.length);\r\n                    elements[i].textContent = elements[i].textContent.slice(0, startOffset);\r\n\r\n\r\n                    if (secondPartText.length > 0) {\r\n                        insertionIndex = i;\r\n\r\n                        let secondPartNode: Node = document.createTextNode(secondPartText);\r\n\r\n                        if (i == elements.length - 1) {\r\n                            elements[i].parentNode.appendChild(secondPartNode)\r\n                        } else {\r\n                            elements[i].parentNode.insertBefore(secondPartNode, elements[i + 1]);\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                // if we find start element/node BLOCK END\r\n\r\n            } else {\r\n\r\n                console.log('Node at end offset have been found, index: ' + i);\r\n\r\n                // if we find end element/node BLOCK START\r\n\r\n                if (currentLength > endOffset) {\r\n\r\n                    if (endOffset - currentLength < elements[i].textContent.length) {\r\n\r\n                        let localElementOffset: number = endOffset - currentLength;\r\n\r\n                        insertionIndex = i;\r\n\r\n                        elementInnerHTML = elementInnerHTML + elements[i].textContent.slice(0, localElementOffset);\r\n                        elements[i].textContent = elements[i].textContent.slice(localElementOffset);\r\n\r\n                    }\r\n                }\r\n\r\n                // if we find end element/node BLOCK END\r\n\r\n                else {\r\n\r\n                    console.log('Wrapping regular node at index: ' + i);\r\n\r\n                    // add textContent or outerHTML to elementInnerHTML BLOCK START\r\n\r\n                    if (elements[i].hasOwnProperty('outerHTML')) {\r\n                        elementInnerHTML = elementInnerHTML + elements[i].outerHTML;\r\n                    } else {\r\n                        elementInnerHTML = elementInnerHTML + elements[i].textContent;\r\n                    }\r\n\r\n                    // add textContent or innerHTML to elementInnerHTML BLOCK END\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        console.log('elementInnerHTML', elementInnerHTML);\r\n\r\n        element.innerHTML = elementInnerHTML;\r\n\r\n        if (insertionIndex == elements.length - 1) {\r\n            elements[0].parentNode.appendChild(element);\r\n        } else {\r\n            elements[0].parentNode.insertBefore(element, elements[0].parentNode.childNodes[insertionIndex + 1]);\r\n        }\r\n\r\n\r\n    }\r\n\r\n}","import {Component,EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from '../interfaces/IEditorButton';\r\nimport {SelectionHelper} from '../../helpers/selection.helper';\r\nimport {SelectionData} from '../../models/selectionData';\r\nimport {NodeHelper} from '../../helpers/node.helper';\r\n\r\n@Component({\r\n    selector: 'b-editor-button',\r\n    templateUrl: 'b.component.html'\r\n})\r\n\r\nexport class BComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content: string;\r\n\r\n    @Input('editorId')\r\n    public editorId: string;\r\n\r\n    wrapSelected(): void {\r\n\r\n        document.execCommand('bold', false, null);\r\n\r\n        //let selection = window.getSelection();\r\n        //let node: any = selection.focusNode;\r\n        //let selectionData: SelectionData = SelectionHelper.getSelectionData();\r\n        //\r\n        //if (document.getElementById(this.editorId).contains(node)) {\r\n        //\r\n        //    if(NodeHelper.haveParentWithLocalName(node, 'b')) {\r\n        //\r\n        //        let parent = NodeHelper.findParentByLocalName(node, 'b');\r\n        //        parent.outerHTML = parent.innerHTML;\r\n        //\r\n        //    }  else {\r\n        //        node.parentNode.innerHTML = selectionData.startString + '<b>' + selectionData.middleString + '</b>' + selectionData.endString;\r\n        //    }\r\n        //\r\n        //\r\n        //    this.update.emit()\r\n        //}\r\n\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from '../interfaces/IEditorButton';\r\nimport {SelectionHelper} from '../../helpers/selection.helper';\r\nimport {SelectionData} from '../../models/selectionData';\r\nimport {NodeHelper} from \"../../helpers/node.helper\";\r\n\r\n@Component({\r\n    selector: 'i-editor-button',\r\n    templateUrl: 'i.component.html'\r\n})\r\n\r\nexport class IComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content: string;\r\n\r\n    @Input('editorId')\r\n    public editorId: string;\r\n\r\n    wrapSelected(): void {\r\n\r\n        document.execCommand('italic', false, null);\r\n\r\n        //let selection = window.getSelection();\r\n        //let node: any = selection.focusNode;\r\n        //let selectionData: SelectionData = SelectionHelper.getSelectionData();\r\n        //\r\n        //if (document.getElementById(this.editorId).contains(node)) {\r\n        //\r\n        //    if(NodeHelper.haveParentWithLocalName(node, 'i')) {\r\n        //\r\n        //        let parent = NodeHelper.findParentByLocalName(node, 'i');\r\n        //        parent.outerHTML = parent.innerHTML;\r\n        //\r\n        //    }  else {\r\n        //        node.parentNode.innerHTML = selectionData.startString + '<i>' + selectionData.middleString + '</i>' + selectionData.endString;\r\n        //    }\r\n        //    this.update.emit();\r\n        //\r\n        //}\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\n\r\nimport {IEditorButton} from '../interfaces/IEditorButton';\r\n\r\nimport {SelectionData} from '../../models/selectionData';\r\nimport {SelectionHelper} from '../../helpers/selection.helper';\r\nimport {NodeHelper} from \"../../helpers/node.helper\";\r\n\r\n@Component({\r\n    selector: 'u-editor-button',\r\n    templateUrl: 'u.component.html'\r\n})\r\n\r\nexport class UComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content: string;\r\n\r\n    @Input('editorId')\r\n    public editorId: string;\r\n\r\n    wrapSelected(): void {\r\n\r\n        document.execCommand('underline', false, null);\r\n\r\n        //let selection = window.getSelection();\r\n        //let node: any = selection.focusNode;\r\n        //let selectionData: SelectionData = SelectionHelper.getSelectionData();\r\n        //\r\n        //if (document.getElementById(this.editorId).contains(node)) {\r\n        //\r\n        //    if(NodeHelper.haveParentWithLocalNameAndClassName(node, 'span', 'e-style-underline')) {\r\n        //\r\n        //        let parent = NodeHelper.findParentByLocalNameAndClassName(node, 'span', 'e-style-underline');\r\n        //        parent.outerHTML = parent.innerHTML;\r\n        //\r\n        //    } else {\r\n        //        node.parentNode.innerHTML = selectionData.startString + '<span class=\"e-style-underline\">' + selectionData.middleString + '</span>' + selectionData.endString;\r\n        //    }\r\n        //    this.update.emit();\r\n        //}\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from '../interfaces/IEditorButton';\r\nimport {SelectionData} from '../../models/selectionData';\r\nimport {SelectionHelper} from '../../helpers/selection.helper';\r\n\r\n@Component({\r\n    selector: 'text-center-editor-button',\r\n    templateUrl: 'text-center.component.html'\r\n})\r\n\r\nexport class TextCenterComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('justifyCenter', false, null);\r\n\r\n        //let selection = window.getSelection();\r\n        //let node:any = selection.focusNode;\r\n        //\r\n        //if (document.getElementById(this.editorId).contains(node)) {\r\n        //    if (node.parentNode.classList.contains('e-style-text-center')) {\r\n        //        node.parentNode.classList.remove('e-style-text-center');\r\n        //    } else {\r\n        //        node.parentNode.classList.remove('e-style-text-left');\r\n        //        node.parentNode.classList.remove('e-style-text-right');\r\n        //        node.parentNode.classList.add('e-style-text-center');\r\n        //    }\r\n        //}\r\n\r\n    }\r\n\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from '../interfaces/IEditorButton';\r\nimport {SelectionData} from '../../models/selectionData';\r\nimport {SelectionHelper} from '../../helpers/selection.helper';\r\n\r\n@Component({\r\n    selector: 'text-right-editor-button',\r\n    templateUrl: 'text-right.component.html'\r\n})\r\n\r\nexport class TextRightComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('justifyRight', false, null);\r\n\r\n        //let selection = window.getSelection();\r\n        //let node:any = selection.focusNode;\r\n        //\r\n        //if (document.getElementById(this.editorId).contains(node)) {\r\n        //\r\n        //    if (node.parentNode.classList.contains('e-style-text-right')) {\r\n        //        node.parentNode.classList.remove('e-style-text-right');\r\n        //    } else {\r\n        //        node.parentNode.classList.remove('e-style-text-center');\r\n        //        node.parentNode.classList.remove('e-style-text-left');\r\n        //        node.parentNode.classList.add('e-style-text-right');\r\n        //    }\r\n        //\r\n        //}\r\n\r\n    }\r\n\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'text-left-editor-button',\r\n    templateUrl: 'text-left.component.html'\r\n})\r\n\r\nexport class TextLeftComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('justifyLeft', false, null);\r\n\r\n        //let selection = window.getSelection();\r\n        //let node:any = selection.focusNode;\r\n        //\r\n        //if (document.getElementById(this.editorId).contains(node)) {\r\n        //\r\n        //    if (node.parentNode.classList.contains('e-style-text-left')) {\r\n        //        node.parentNode.classList.remove('e-style-text-left');\r\n        //    } else {\r\n        //        node.parentNode.classList.remove('e-style-text-center');\r\n        //        node.parentNode.classList.remove('e-style-text-right');\r\n        //        node.parentNode.classList.add('e-style-text-left');\r\n        //    }\r\n        //\r\n        //}\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from '../interfaces/IEditorButton';\r\n\r\n@Component({\r\n    selector: 'ul-editor-button',\r\n    templateUrl: 'ul.component.html'\r\n})\r\n\r\nexport class UlComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('insertUnorderedList', false, null);\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from '../interfaces/IEditorButton';\r\nimport {SelectionHelper} from '../../helpers/selection.helper';\r\nimport {NodeHelper} from '../../helpers/node.helper';\r\n\r\n@Component({\r\n    selector: 'ol-editor-button',\r\n    templateUrl: 'ol.component.html'\r\n})\r\n\r\nexport class OlComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n\r\n    //private getNodeIndex(elements:HTMLCollection, node:Node):number {\r\n    //\r\n    //    let index:number;\r\n    //\r\n    //    for (let i:number = 0; i < elements.length; i = i + 1) {\r\n    //        if (elements[i].contains(node)) {\r\n    //            index = i;\r\n    //        }\r\n    //    }\r\n    //\r\n    //    return index;\r\n    //\r\n    //}\r\n    //\r\n    //private getElementsToWrap(elements:any, startIndex:number, endIndex:number):Element[] {\r\n    //\r\n    //    let result:Element[] = [];\r\n    //\r\n    //    console.log('elements', elements);\r\n    //\r\n    //    for (let i:number = startIndex; i <= endIndex; i = i + 1) {\r\n    //\r\n    //        result.push(elements[i]);\r\n    //\r\n    //    }\r\n    //\r\n    //\r\n    //    return result;\r\n    //\r\n    //}\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('insertOrderedList', false, null);\r\n\r\n        //let selection = window.getSelection();\r\n        //let node:any = selection.focusNode;\r\n        //\r\n        //console.log('selection', selection);\r\n        //\r\n        //console.log('selection.extentOffset', selection.extentOffset);\r\n        //console.log('selection.anchorOffset', selection.anchorOffset);\r\n        //console.log('node.parentNode.innerText.length', node.parentNode.innerText.length);\r\n        //\r\n        //if (document.getElementById(this.editorId).contains(node)) {\r\n        //\r\n        //    //node.parentNode.innerHTML = '<ul><li>'+nod+'</li></ul>';\r\n        //\r\n        //\r\n        //    let startNode = selection.extentNode;\r\n        //    let endNode = selection.anchorNode;\r\n        //\r\n        //    let startParent = NodeHelper.findBlockParent(startNode.parentElement);\r\n        //    let endParent = NodeHelper.findBlockParent(endNode.parentElement);\r\n        //\r\n        //    if (startParent == endParent) {\r\n        //\r\n        //        let startIndex:number = this.getNodeIndex(startParent.children, startNode);\r\n        //        let endIndex:number = this.getNodeIndex(startParent.children, startNode);\r\n        //\r\n        //        console.log('startIndex', startIndex);\r\n        //        console.log('endIndex', endIndex);\r\n        //\r\n        //        let elementsToWrap:Element[] = this.getElementsToWrap(startParent.children, startIndex, endIndex);\r\n        //\r\n        //        let ol:Element = document.createElement('OL');\r\n        //\r\n        //        for (let i:number = 0; i < elementsToWrap.length; i = i + 1) {\r\n        //            elementsToWrap[i].outerHTML = '<li>' + startParent.children[i].outerHTML + '</li>';\r\n        //            console.log('startParent.children[i].outerHTML', startParent.children[i].outerHTML);\r\n        //            ol.appendChild(elementsToWrap[i]);\r\n        //        }\r\n        //\r\n        //        for(let i:number = startIndex; i <= endIndex; i = i + 1) {\r\n        //            startParent.children[i].remove();\r\n        //        }\r\n        //\r\n        //        startParent.insertBefore(ol,startParent.children[startIndex + 1]);\r\n        //\r\n        //        console.log('startParent', startParent);\r\n        //\r\n        //        this.update.emit();\r\n        //\r\n        //    }\r\n        //}\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'text-justify-editor-button',\r\n    templateUrl: 'text-justify.component.html'\r\n})\r\n\r\nexport class TextJustifyComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('justifyFull', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'indent-editor-button',\r\n    templateUrl: 'indent.component.html'\r\n})\r\n\r\nexport class IndentComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('indent', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'outdent-editor-button',\r\n    templateUrl: 'outdent.component.html'\r\n})\r\n\r\nexport class OutdentComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('outdent', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'strike-editor-button',\r\n    templateUrl: 'strike.component.html'\r\n})\r\n\r\nexport class StrikeComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('strikeThrough', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'subscript-editor-button',\r\n    templateUrl: 'subscript.component.html'\r\n})\r\n\r\nexport class SubscriptComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('subscript', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'superscript-editor-button',\r\n    templateUrl: 'superscript.component.html'\r\n})\r\n\r\nexport class SuperscriptComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('superscript', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'hr-editor-button',\r\n    templateUrl: 'hr.component.html'\r\n})\r\n\r\nexport class HrComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('insertHorizontalRule', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'format-block-editor-button',\r\n    templateUrl: 'format-block.component.html'\r\n})\r\n\r\nexport class FormatBlockComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    public formatBlock:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('formatBlock', false, this.formatBlock);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'rf-editor-button',\r\n    templateUrl: 'rf.component.html'\r\n})\r\n\r\nexport class RemoveFormatComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('removeFormat', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'font-size-editor-button',\r\n    templateUrl: 'font-size.component.html'\r\n})\r\n\r\nexport class FontSizeComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('fontSize', false, 14);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'font-name-editor-button',\r\n    templateUrl: 'font-name.component.html'\r\n})\r\n\r\nexport class FontNameComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('fontName', false, 'Arial');\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'create-link-editor-button',\r\n    templateUrl: 'create-link.component.html'\r\n})\r\n\r\nexport class CreateLinkComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n\r\n        let url:string = prompt('Enter the link here: ', 'http:\\/\\/');\r\n        document.execCommand('createlink', false, url);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'unlink-editor-button',\r\n    templateUrl: 'unlink.component.html'\r\n})\r\n\r\nexport class UnlinkComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n        document.execCommand('unlink', false, null);\r\n\r\n    }\r\n\r\n}","import {Component, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from \"../interfaces/IEditorButton\";\r\n\r\n@Component({\r\n    selector: 'insert-image-editor-button',\r\n    templateUrl: 'insert-image.component.html'\r\n})\r\n\r\nexport class InsertImageComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content:string;\r\n\r\n    @Input('editorId')\r\n    public editorId:string;\r\n\r\n    wrapSelected():void {\r\n\r\n\r\n        let url:string = prompt('Enter the link here: ', 'http:\\/\\/');\r\n        document.execCommand('insertimage', false, url);\r\n\r\n    }\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms'\r\n\r\nimport { BComponent } from './components/b-component/b.component';\r\nimport { IComponent } from './components/i-component/i.component';\r\nimport { UComponent } from './components/u-component/u.component';\r\nimport {TextCenterComponent} from './components/text-center-component/text-center.component';\r\nimport {TextRightComponent} from './components/text-right-component/text-right.component';\r\nimport {TextLeftComponent} from './components/text-left-component/text-left.component';\r\nimport {UlComponent} from './components/ul-component/ul.component';\r\nimport {OlComponent} from './components/ol-component/ol.component';\r\nimport {TextJustifyComponent} from './components/text-justify-component/text-justify.component';\r\nimport {IndentComponent} from './components/indent-component/indent.component';\r\nimport {OutdentComponent} from './components/outdent-component/outdent.component';\r\nimport {StrikeComponent} from './components/strike-component/strike.component';\r\nimport {SubscriptComponent} from './components/subscript-component/subscript.component';\r\nimport {SuperscriptComponent} from './components/superscript-component/superscript.component';\r\nimport {HrComponent} from './components/hr-component/hr.component';\r\nimport {FormatBlockComponent} from './components/format-block-component/foramt-block.component';\r\nimport {RemoveFormatComponent} from './components/rf-component/rf.component';\r\nimport {FontSizeComponent} from './components/font-size-component/font-size.component';\r\nimport {FontNameComponent} from './components/font-name-component/font-name.component';\r\nimport {CreateLinkComponent} from './components/create-link-component/create-link.component';\r\nimport {UnlinkComponent} from './components/unlink-component/unlink.component';\r\nimport {InsertImageComponent} from './components/insert-image-component/insert-image.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        BComponent,\r\n        IComponent,\r\n        UComponent,\r\n        StrikeComponent,\r\n\r\n        TextCenterComponent,\r\n        TextRightComponent,\r\n        TextLeftComponent,\r\n        TextJustifyComponent,\r\n\r\n        IndentComponent,\r\n        OutdentComponent,\r\n\r\n        OlComponent,\r\n        UlComponent,\r\n\r\n        SubscriptComponent,\r\n        SuperscriptComponent,\r\n\r\n        HrComponent,\r\n        RemoveFormatComponent,\r\n        FormatBlockComponent,\r\n        FontSizeComponent,\r\n        FontNameComponent,\r\n\r\n        CreateLinkComponent,\r\n        UnlinkComponent,\r\n\r\n        InsertImageComponent\r\n\r\n    ],\r\n    imports: [FormsModule],\r\n    exports: [\r\n        BComponent,\r\n        IComponent,\r\n        UComponent,\r\n        StrikeComponent,\r\n\r\n        TextCenterComponent,\r\n        TextRightComponent,\r\n        TextLeftComponent,\r\n        TextJustifyComponent,\r\n\r\n        IndentComponent,\r\n        OutdentComponent,\r\n\r\n        OlComponent,\r\n        UlComponent,\r\n\r\n        SubscriptComponent,\r\n        SuperscriptComponent,\r\n\r\n        HrComponent,\r\n        RemoveFormatComponent,\r\n        FormatBlockComponent,\r\n        FontSizeComponent,\r\n        FontNameComponent,\r\n\r\n        CreateLinkComponent,\r\n        UnlinkComponent,\r\n\r\n        InsertImageComponent\r\n    ],\r\n    bootstrap: []\r\n})\r\n\r\nexport class EditorFeaturesModule {\r\n\r\n    constructor() {\r\n        console.log('EditorFeaturesModule init');\r\n    }\r\n\r\n}","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'shell',\r\n    templateUrl: 'shell.component.html'\r\n})\r\n\r\nexport class ShellComponent {\r\n\r\n    constructor() {\r\n        console.log('ShellComponent init');\r\n    }\r\n\r\n}","export class Slide {\r\n    content:string\r\n}","import {Slide} from \"./Slide\";\r\n\r\nexport class Presentation {\r\n\r\n    id:number;\r\n    name:string;\r\n    slides:Slide[]\r\n\r\n}","import { Component } from '@angular/core';\r\nimport {Presentation} from \"../../models/Presentation\";\r\n\r\n@Component({\r\n    selector: 'dashboard',\r\n    templateUrl: 'dashboard.component.html'\r\n})\r\n\r\nexport class DashboardComponent {\r\n\r\n    presentations:Presentation[];\r\n\r\n    constructor() {\r\n\r\n        console.log('DashboardComponent init');\r\n\r\n        this.presentations = [{id: 1, name: 'Компьютерная геометрия и графика', slides: []}, {id: 2, name: 'Веб-дизайн', slides: []}];\r\n\r\n    }\r\n\r\n}","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'presentation',\r\n    templateUrl: 'presentation.component.html'\r\n})\r\n\r\nexport class PresentationComponent {\r\n\r\n    constructor() {\r\n\r\n        console.log('PresentationComponent init');\r\n\r\n\r\n    }\r\n\r\n}","import { Component } from '@angular/core';\r\nimport {Slide} from \"../../models/Slide\";\r\n\r\n@Component({\r\n    selector: 'slide-editor',\r\n    templateUrl: 'slide-editor.component.html'\r\n})\r\n\r\nexport class SlideEditorComponent {\r\n\r\n    slide:Slide;\r\n\r\n    isVisualizer:boolean = true;\r\n    editorId:string;\r\n\r\n    constructor() {\r\n        console.log('SlideEditorCompoennt init');\r\n\r\n        this.editorId = 'editor1';\r\n\r\n        this.slide = {\r\n            content: '<div style=\"border-bottom: 2px solid #ccc; padding-bottom: 10px\"><div></div><ul style=\"padding-left: 40px\"><li>Item 1</li><li>Item 2</li><li>Item 3</li><li>Item 4</li></ul></div></div><p>'\r\n            + 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod'\r\n            + 'tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam'\r\n            + 'quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo '\r\n            + 'consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse '\r\n            + 'cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non '\r\n            + 'proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>'\r\n        };\r\n\r\n    }\r\n\r\n}","import { Component } from '@angular/core';\r\nimport {Slide} from \"../../models/Slide\";\r\n\r\n@Component({\r\n    selector: 'slides-tree',\r\n    templateUrl: 'slides-tree.component.html'\r\n})\r\n\r\nexport class SlidesTreeComponent {\r\n\r\n    slides:Slide[];\r\n\r\n    constructor() {\r\n\r\n        console.log('Sliders tree')\r\n\r\n        this.slides = [\r\n            {content: '123'},\r\n            {content: '456'}\r\n        ]\r\n\r\n    }\r\n\r\n    public addSlide() {\r\n\r\n        this.slides.push({content: ''});\r\n\r\n    }\r\n\r\n    public selectSlide() {\r\n\r\n\r\n\r\n    }\r\n\r\n}","import {Directive, ElementRef, EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {OnChanges, SimpleChanges} from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[contenteditableModel]',\r\n    host: {\r\n        '(blur)': 'onEdit()',\r\n        '(keyup)': 'onEdit()'\r\n    }\r\n\r\n})\r\n\r\nexport class ContentEditableDirective implements OnChanges {\r\n    @Input('contenteditableModel') model:any;\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    constructor(private elementRef:ElementRef) {\r\n\r\n    }\r\n\r\n\r\n    ngOnChanges(changes:SimpleChanges):void {\r\n\r\n        if (changes.model.firstChange == true) {\r\n            this.refreshView();\r\n        }\r\n\r\n    }\r\n\r\n    public onEdit() {\r\n\r\n        let value:string = this.elementRef.nativeElement.innerHTML;\r\n        this.update.emit(value);\r\n\r\n    }\r\n\r\n    public refreshView():void {\r\n\r\n        this.elementRef.nativeElement.innerHTML = this.model;\r\n    }\r\n\r\n}","import {ModuleWithProviders} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\n\r\nimport {DashboardComponent} from \"./components/dashboard-component/dashboard.component\";\r\nimport {PresentationComponent} from \"./components/presentation-component/presentation.component\";\r\n\r\nconst appRoutes:Routes = <Routes>[\r\n    {\r\n        path: '',\r\n        component: DashboardComponent,\r\n    },\r\n    {\r\n        path: 'presentation',\r\n        children: [{\r\n            path: 'new',\r\n            component: PresentationComponent\r\n        }, {\r\n            path: ':id',\r\n            component: PresentationComponent\r\n        }]\r\n    },\r\n];\r\n\r\nexport const routing:ModuleWithProviders = RouterModule.forRoot(appRoutes);\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { EditorFeaturesModule } from '../editor-features/editor-featrues.module'\r\n\r\nimport { ShellComponent } from './components/shell-component/shell.component';\r\nimport { DashboardComponent } from './components/dashboard-component/dashboard.component';\r\nimport { PresentationComponent} from './components/presentation-component/presentation.component';\r\nimport { SlideEditorComponent } from './components/slide-editor-component/slide-editor.component';\r\nimport { SlidesTreeComponent } from './components/slides-tree-component/slides-tree.component';\r\n\r\nimport { ContentEditableDirective } from './directives/content-editable.directive';\r\n\r\nimport { routing } from './app.routing';\r\n\r\n@NgModule({\r\n    imports: [\r\n        BrowserModule,\r\n        HttpModule,\r\n        FormsModule,\r\n        routing,\r\n        EditorFeaturesModule\r\n    ],\r\n    declarations: [\r\n\r\n        ShellComponent,\r\n        DashboardComponent,\r\n        PresentationComponent,\r\n        SlideEditorComponent,\r\n        SlidesTreeComponent,\r\n\r\n        ContentEditableDirective\r\n    ],\r\n    bootstrap: [ShellComponent]\r\n})\r\n\r\nexport class AppModule {\r\n\r\n    constructor() {\r\n        console.log('AppModule init');\r\n    }\r\n\r\n}","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);","import {Component,EventEmitter} from '@angular/core';\r\nimport {Input, Output} from '@angular/core';\r\nimport {IEditorButton} from '../interfaces/IEditorButton';\r\nimport {SelectionHelper} from '../../helpers/selection.helper';\r\nimport {SelectionData} from '../../models/selectionData';\r\nimport {NodeHelper} from '../../helpers/node.helper';\r\n\r\n@Component({\r\n    selector: 'b-editor-button',\r\n    templateUrl: 'b.component.html'\r\n})\r\n\r\nexport class BComponent implements IEditorButton {\r\n\r\n    @Output('contenteditableModelChange') update = new EventEmitter();\r\n\r\n    @Input('content')\r\n    public content: string;\r\n\r\n    @Input('editorId')\r\n    public editorId: string;\r\n\r\n    wrapSelected(): void {\r\n\r\n        let selection = window.getSelection();\r\n        let node: any = selection.focusNode;\r\n        let selectionData: SelectionData = SelectionHelper.getSelectionData();\r\n\r\n        if (document.getElementById(this.editorId).contains(node)) {\r\n\r\n            console.log({parentNode: node.parentNode});\r\n            console.log({node: node});\r\n\r\n            if (NodeHelper.haveParentWithLocalName(node, 'b')) {\r\n\r\n                let parent = NodeHelper.findParentByLocalName(node, 'b');\r\n                parent.outerHTML = parent.innerHTML;\r\n\r\n            } else {\r\n\r\n                let blockParent = NodeHelper.findBlockParent(node);\r\n\r\n                if (blockParent.childNodes.length > 1) {\r\n\r\n                    let currentLength = 0;\r\n                    let nodesToWrap: any[] = []; // Node or Element\r\n\r\n                    let startNodeIndex: number;\r\n                    let endNodeIndex: number;\r\n\r\n                    for (let i: number = 0; i < blockParent.childNodes.length; i = i + 1) {\r\n\r\n                        currentLength = currentLength + blockParent.childNodes[i].textContent.length;\r\n\r\n                        if (currentLength >= selectionData.offsetFrom) {\r\n\r\n                            if (!startNodeIndex) {\r\n                                startNodeIndex = i;\r\n                            }\r\n\r\n                            let lengthDiff: number = currentLength - selectionData.offsetTo;\r\n\r\n                            if (lengthDiff < blockParent.childNodes[i].textContent.length) {\r\n                                nodesToWrap.push(blockParent.childNodes[i]);\r\n                                //blockParent.removeChild(blockParent.childNodes[i]);\r\n                                endNodeIndex = i;\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                    console.log('nodesToWrap', nodesToWrap);\r\n\r\n                    let b: Element = document.createElement('B');\r\n\r\n\r\n                    for (let i: number = 0; i < nodesToWrap.length; i = i + 1) {\r\n                        b.appendChild(nodesToWrap[i]);\r\n                    }\r\n\r\n                    console.log('B ELEMENT', b);\r\n\r\n                    //blockParent.insertBefore(b, blockParent.children[startNodeIndex + 1]); // next to start\r\n\r\n\r\n                } else {\r\n\r\n                    blockParent.innerHTML = selectionData.startString + '<b>' + selectionData.middleString + '</b>' + selectionData.endString;\r\n                }\r\n            }\r\n\r\n\r\n            this.update.emit()\r\n        }\r\n\r\n\r\n    }\r\n\r\n}"]}